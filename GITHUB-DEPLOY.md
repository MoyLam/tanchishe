# ğŸš€ GitHub Pages è‡ªåŠ¨éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®ï¼Œæ— éœ€æ‰‹åŠ¨ä¸Šä¼  `supabase-config.js` æ–‡ä»¶ã€‚

## ğŸ“‹ æ–¹æ¡ˆå¯¹æ¯”

### âŒ ä¼ ç»Ÿæ–¹æ¡ˆçš„é—®é¢˜
- `supabase-config.js` è¢« `.gitignore` å¿½ç•¥ï¼ˆå®‰å…¨è¦æ±‚ï¼‰
- éƒ¨ç½²æ—¶éœ€è¦æ‰‹åŠ¨ç”Ÿæˆå’Œä¸Šä¼ é…ç½®æ–‡ä»¶
- å®¹æ˜“å¿˜è®°æˆ–å‡ºé”™

### âœ… GitHub Actions è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ
- **è‡ªåŠ¨åŒ–**ï¼šæ¨é€ä»£ç åè‡ªåŠ¨éƒ¨ç½²
- **å®‰å…¨**ï¼šå¯†é’¥å­˜å‚¨åœ¨ GitHub Secrets ä¸­
- **ä¾¿æ·**ï¼šæ— éœ€æ‰‹åŠ¨æ“ä½œ

---

## ğŸ”§ é…ç½®æ­¥éª¤

### æ­¥éª¤ 1ï¼šé…ç½® GitHub Secrets

1. **æ‰“å¼€ä½ çš„ GitHub ä»“åº“**
   
   è®¿é—®ï¼š`https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å`

2. **è¿›å…¥ Settings**
   
   ç‚¹å‡»ä»“åº“é¡¶éƒ¨çš„ `Settings` æ ‡ç­¾

3. **æ·»åŠ  Secrets**
   
   åœ¨å·¦ä¾§èœå•æ‰¾åˆ°ï¼š
   - `Secrets and variables` â†’ `Actions`
   - ç‚¹å‡» `New repository secret`

4. **æ·»åŠ ä¸¤ä¸ªå¯†é’¥**

   **å¯†é’¥ 1ï¼šSUPABASE_URL**
   - Name: `SUPABASE_URL`
   - Secret: ä½ çš„ Supabase URLï¼ˆä» `.env` æ–‡ä»¶å¤åˆ¶ï¼‰
   - ç¤ºä¾‹ï¼š`https://uiixvbwozggzqvftkifm.supabase.co`
   
   **å¯†é’¥ 2ï¼šSUPABASE_ANON_KEY**
   - Name: `SUPABASE_ANON_KEY`
   - Secret: ä½ çš„ Supabase åŒ¿åå¯†é’¥ï¼ˆä» `.env` æ–‡ä»¶å¤åˆ¶ï¼‰
   - ç¤ºä¾‹ï¼š`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`

### æ­¥éª¤ 2ï¼šå¯ç”¨ GitHub Pages

1. **è¿›å…¥ Settings â†’ Pages**

2. **é…ç½®éƒ¨ç½²æº**
   - Source: `Deploy from a branch`
   - Branch: `gh-pages` / `(root)`
   - ç‚¹å‡» `Save`

### æ­¥éª¤ 3ï¼šæ¨é€ä»£ç è§¦å‘éƒ¨ç½²

```bash
# æäº¤ä½ çš„æ›´æ”¹
git add .
git commit -m "é…ç½® GitHub Actions è‡ªåŠ¨éƒ¨ç½²"
git push origin main
```

### æ­¥éª¤ 4ï¼šæŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

1. è¿›å…¥ä»“åº“çš„ `Actions` æ ‡ç­¾
2. æŸ¥çœ‹å·¥ä½œæµè¿è¡ŒçŠ¶æ€
3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆé€šå¸¸ 1-2 åˆ†é’Ÿï¼‰

### æ­¥éª¤ 5ï¼šè®¿é—®ä½ çš„ç½‘ç«™

éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ï¼š
```
https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å/
```

---

## ğŸ“ å·²åˆ›å»ºçš„æ–‡ä»¶

å·²ä¸ºä½ åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š

- `.github/workflows/deploy.yml` - GitHub Actions å·¥ä½œæµé…ç½®

---

## ğŸ” å·¥ä½œæµç¨‹è¯´æ˜

### è‡ªåŠ¨åŒ–æµç¨‹

```mermaid
graph LR
    A[æ¨é€ä»£ç åˆ° GitHub] --> B[è§¦å‘ GitHub Actions]
    B --> C[è¯»å– GitHub Secrets]
    C --> D[ç”Ÿæˆ supabase-config.js]
    D --> E[éƒ¨ç½²åˆ° GitHub Pages]
    E --> F[ç½‘ç«™æ›´æ–°å®Œæˆ]
```

### å·¥ä½œæµåšäº†ä»€ä¹ˆ

1. **æ£€å‡ºä»£ç **ï¼šè·å–æœ€æ–°çš„ä»“åº“ä»£ç 
2. **ç”Ÿæˆé…ç½®**ï¼šä½¿ç”¨ GitHub Secrets åŠ¨æ€ç”Ÿæˆ `supabase-config.js`
3. **éƒ¨ç½²æ–‡ä»¶**ï¼šå°†æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç”Ÿæˆçš„é…ç½®ï¼‰éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯
4. **å‘å¸ƒç½‘ç«™**ï¼šGitHub Pages è‡ªåŠ¨å‘å¸ƒæ›´æ–°

---

## âš™ï¸ å·¥ä½œæµæ–‡ä»¶è¯´æ˜

`.github/workflows/deploy.yml` çš„å…³é”®éƒ¨åˆ†ï¼š

```yaml
# è§¦å‘æ¡ä»¶
on:
  push:
    branches:
      - main  # æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘
  workflow_dispatch:  # ä¹Ÿå¯ä»¥æ‰‹åŠ¨è§¦å‘

# ç”Ÿæˆé…ç½®æ–‡ä»¶
- name: Generate Supabase Config
  env:
    SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
    SUPABASE_ANON_KEY: ${{ secrets.SUPABASE_ANON_KEY }}
  run: |
    # åŠ¨æ€ç”Ÿæˆ supabase-config.js æ–‡ä»¶
    cat > supabase-config.js << 'EOF'
    ...é…ç½®å†…å®¹...
    EOF
```

---

## ğŸ› ï¸ æ‰‹åŠ¨è§¦å‘éƒ¨ç½²

å¦‚æœéœ€è¦æ‰‹åŠ¨è§¦å‘éƒ¨ç½²ï¼š

1. è¿›å…¥ä»“åº“çš„ `Actions` æ ‡ç­¾
2. é€‰æ‹© `Deploy to GitHub Pages` å·¥ä½œæµ
3. ç‚¹å‡» `Run workflow`
4. é€‰æ‹©åˆ†æ”¯å¹¶ç‚¹å‡» `Run workflow`

---

## ğŸ“Š éªŒè¯éƒ¨ç½²

### æ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼ŒéªŒè¯ä»¥ä¸‹å†…å®¹ï¼š

- [ ] GitHub Actions å·¥ä½œæµè¿è¡ŒæˆåŠŸï¼ˆç»¿è‰²å‹¾ï¼‰
- [ ] `gh-pages` åˆ†æ”¯å·²åˆ›å»ºå¹¶åŒ…å«æ‰€æœ‰æ–‡ä»¶
- [ ] è®¿é—®ç½‘ç«™ URL å¯ä»¥æ­£å¸¸æ‰“å¼€
- [ ] æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º "Supabaseå®¢æˆ·ç«¯åˆå§‹åŒ–æˆåŠŸ"
- [ ] æ³¨å†ŒåŠŸèƒ½æ­£å¸¸
- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸

### æŸ¥çœ‹ç”Ÿæˆçš„é…ç½®æ–‡ä»¶

1. åˆ‡æ¢åˆ° `gh-pages` åˆ†æ”¯
2. æŸ¥çœ‹ `supabase-config.js` æ–‡ä»¶
3. ç¡®è®¤é…ç½®å·²æ­£ç¡®æ³¨å…¥

---

## ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ

### âœ… åº”è¯¥åšçš„

1. **ä½¿ç”¨ GitHub Secrets**
   - æ°¸è¿œä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
   - æ‰€æœ‰æ•æ„Ÿä¿¡æ¯éƒ½å­˜å‚¨åœ¨ Secrets ä¸­

2. **ä¿æŒ .gitignore**
   - ç¡®ä¿ `.env` å’Œ `supabase-config.js` ä»åœ¨ `.gitignore` ä¸­
   - è¿™äº›æ–‡ä»¶ä¸åº”è¯¥è¢«æäº¤åˆ°ä»“åº“

3. **å®šæœŸè½®æ¢å¯†é’¥**
   - å®šæœŸåœ¨ Supabase Dashboard ä¸­æ›´æ–°å¯†é’¥
   - åŒæ—¶æ›´æ–° GitHub Secrets ä¸­çš„å€¼

### âŒ ä¸åº”è¯¥åšçš„

1. âŒ ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ° Git
2. âŒ ä¸è¦å°† `supabase-config.js` æäº¤åˆ° Git
3. âŒ ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
4. âŒ ä¸è¦åˆ†äº«ä½ çš„ Secrets æˆªå›¾

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šGitHub Actions å¤±è´¥

**ç—‡çŠ¶**ï¼šå·¥ä½œæµæ˜¾ç¤ºçº¢è‰² X

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç‚¹å‡»å¤±è´¥çš„å·¥ä½œæµæŸ¥çœ‹æ—¥å¿—
2. æ£€æŸ¥ GitHub Secrets æ˜¯å¦æ­£ç¡®é…ç½®
3. ç¡®è®¤å¯†é’¥åç§°å¤§å°å†™æ­£ç¡®ï¼š`SUPABASE_URL` å’Œ `SUPABASE_ANON_KEY`

### é—®é¢˜ 2ï¼šéƒ¨ç½²æˆåŠŸä½†ç½‘ç«™æ— æ³•è®¿é—®

**ç—‡çŠ¶**ï¼š404 é”™è¯¯æˆ–ç½‘ç«™æ‰“ä¸å¼€

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ GitHub Pages æ˜¯å¦å·²å¯ç”¨
2. ç¡®è®¤ `gh-pages` åˆ†æ”¯å­˜åœ¨
3. ç­‰å¾… 5-10 åˆ†é’Ÿï¼ŒGitHub Pages å¯èƒ½éœ€è¦æ—¶é—´åŒæ­¥

### é—®é¢˜ 3ï¼šSupabase è¿æ¥å¤±è´¥

**ç—‡çŠ¶**ï¼šæµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º "Supabaseæœªé…ç½®"

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `gh-pages` åˆ†æ”¯ä¸­çš„ `supabase-config.js` å†…å®¹
2. ç¡®è®¤ GitHub Secrets ä¸­çš„å€¼æ­£ç¡®
3. é‡æ–°è§¦å‘å·¥ä½œæµ

### é—®é¢˜ 4ï¼šCORS é”™è¯¯

**ç—‡çŠ¶**ï¼šæµè§ˆå™¨æç¤ºè·¨åŸŸé”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç™»å½• Supabase Dashboard
2. å‰å¾€ Authentication â†’ URL Configuration
3. åœ¨ Site URL ä¸­æ·»åŠ ï¼š`https://ä½ çš„ç”¨æˆ·å.github.io`
4. åœ¨ Redirect URLs ä¸­æ·»åŠ ï¼š`https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å/**`

---

## ğŸ”„ æ›´æ–°é…ç½®

### å¦‚æœéœ€è¦æ›´æ–° Supabase å¯†é’¥

1. åœ¨ Supabase Dashboard ä¸­ç”Ÿæˆæ–°å¯†é’¥
2. æ›´æ–° GitHub Secretsï¼š
   - Settings â†’ Secrets â†’ Actions
   - ç‚¹å‡»å¯¹åº”å¯†é’¥çš„ `Update` æŒ‰é’®
   - ç²˜è´´æ–°å€¼å¹¶ä¿å­˜
3. é‡æ–°è§¦å‘éƒ¨ç½²ï¼ˆæ¨é€ä»£ç æˆ–æ‰‹åŠ¨è§¦å‘ï¼‰

---

## ğŸ“š å…¶ä»–éƒ¨ç½²å¹³å°

å¦‚æœä¸ä½¿ç”¨ GitHub Pagesï¼Œä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼æ–¹æ³•éƒ¨ç½²åˆ°ï¼š

### Vercel

```bash
# åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡
SUPABASE_URL=ä½ çš„URL
SUPABASE_ANON_KEY=ä½ çš„å¯†é’¥

# æ„å»ºå‘½ä»¤
bash generate-config.sh
```

### Netlify

```toml
# netlify.toml
[build]
  command = "bash generate-config.sh"
  publish = "."

[build.environment]
  SUPABASE_URL = "åœ¨ Netlify æ§åˆ¶å°ä¸­è®¾ç½®"
  SUPABASE_ANON_KEY = "åœ¨ Netlify æ§åˆ¶å°ä¸­è®¾ç½®"
```

---

## ğŸ’¡ æç¤º

1. **é¦–æ¬¡éƒ¨ç½²**å¯èƒ½éœ€è¦ç­‰å¾…å‡ åˆ†é’Ÿ
2. **åç»­æ›´æ–°**é€šå¸¸åœ¨ 1-2 åˆ†é’Ÿå†…å®Œæˆ
3. å¯ä»¥åœ¨ Actions æ ‡ç­¾ä¸­æŸ¥çœ‹**éƒ¨ç½²å†å²**
4. å·¥ä½œæµä¼šåœ¨æ¯æ¬¡æ¨é€åˆ° `main` åˆ†æ”¯æ—¶**è‡ªåŠ¨è¿è¡Œ**

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ GitHub Actions çš„è¯¦ç»†æ—¥å¿—
2. æ£€æŸ¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ Console å’Œ Network æ ‡ç­¾
3. å‚è€ƒ `DEPLOYMENT.md` äº†è§£æ›´å¤šéƒ¨ç½²é€‰é¡¹
4. æŸ¥çœ‹ `SUPABASE_SETUP.md` é…ç½®æ•°æ®åº“

---

âœ¨ ç°åœ¨ä½ å¯ä»¥äº«å—è‡ªåŠ¨åŒ–éƒ¨ç½²çš„ä¾¿åˆ©äº†ï¼æ¯æ¬¡æ¨é€ä»£ç ï¼ŒGitHub ä¼šè‡ªåŠ¨å¸®ä½ å®Œæˆä¸€åˆ‡ã€‚
